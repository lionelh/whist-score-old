{"ast":null,"code":"import { FormControl, Validators } from \"@angular/forms\";\nimport { of } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/main/services/data.service\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\n\nfunction GameManagementComponent_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 16);\n    i0.ɵɵtext(1, \"Nouvelle\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction GameManagementComponent_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 17);\n    i0.ɵɵtext(1, \"En cours\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction GameManagementComponent_span_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 18);\n    i0.ɵɵtext(1, \"Termin\\u00E9e\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction GameManagementComponent_button_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function GameManagementComponent_button_14_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.closeEvent(ctx_r8.event == null ? null : ctx_r8.event.id);\n    });\n    i0.ɵɵelement(1, \"i\", 20);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction GameManagementComponent_th_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const p_r10 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(p_r10.name);\n  }\n}\n\nfunction GameManagementComponent_tr_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2, \"Aucune donne n'a \\u00E9t\\u00E9 jou\\u00E9e !\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"colspan\", ctx_r5.computeColspan(ctx_r5.event == null ? null : ctx_r5.event.players == null ? null : ctx_r5.event.players.length));\n  }\n}\n\nfunction GameManagementComponent_tr_26_td_5_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const pd_r13 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"+\", pd_r13 == null ? null : pd_r13.eventScore, \"\");\n  }\n}\n\nfunction GameManagementComponent_tr_26_td_5_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const pd_r13 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(pd_r13 == null ? null : pd_r13.eventScore);\n  }\n}\n\nfunction GameManagementComponent_tr_26_td_5_span_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const pd_r13 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵclassProp(\"role-annonceur\", pd_r13.roleName.toLowerCase().startsWith(\"annonceur\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"(+\", pd_r13.drawScore, \")\");\n  }\n}\n\nfunction GameManagementComponent_tr_26_td_5_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const pd_r13 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵclassProp(\"role-annonceur\", pd_r13.roleName.toLowerCase().startsWith(\"annonceur\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"(\", pd_r13.drawScore, \")\");\n  }\n}\n\nfunction GameManagementComponent_tr_26_td_5_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"(-)\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction GameManagementComponent_tr_26_td_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 22)(1, \"span\");\n    i0.ɵɵtemplate(2, GameManagementComponent_tr_26_td_5_span_2_Template, 2, 1, \"span\", 14);\n    i0.ɵɵtemplate(3, GameManagementComponent_tr_26_td_5_span_3_Template, 2, 1, \"span\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \" \\u00A0 \");\n    i0.ɵɵtemplate(5, GameManagementComponent_tr_26_td_5_span_5_Template, 2, 3, \"span\", 23);\n    i0.ɵɵtemplate(6, GameManagementComponent_tr_26_td_5_span_6_Template, 2, 3, \"span\", 23);\n    i0.ɵɵtemplate(7, GameManagementComponent_tr_26_td_5_span_7_Template, 2, 0, \"span\", 14);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const pd_r13 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"text-danger\", pd_r13.eventScore < 0)(\"text-success\", pd_r13.eventScore > 0)(\"text-warning\", pd_r13.eventScore == 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", pd_r13.eventScore > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", pd_r13.eventScore <= 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", pd_r13.roleName != \"Mort\" && pd_r13.drawScore > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", pd_r13.roleName != \"Mort\" && pd_r13.drawScore <= 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", pd_r13.roleName == \"Mort\");\n  }\n}\n\nfunction GameManagementComponent_tr_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, GameManagementComponent_tr_26_td_5_Template, 8, 11, \"td\", 21);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const d_r11 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(d_r11.contract == null ? null : d_r11.contract.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(d_r11.result == null ? null : d_r11.result.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", d_r11.players);\n  }\n}\n\nfunction GameManagementComponent_div_28_option_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 33);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const c_r26 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", c_r26.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(c_r26.name);\n  }\n}\n\nfunction GameManagementComponent_div_28_div_12_div_3_option_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 33);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const r_r30 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", r_r30.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(r_r30.name);\n  }\n}\n\nfunction GameManagementComponent_div_28_div_12_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25)(1, \"label\", 37);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"select\", 38);\n    i0.ɵɵtemplate(4, GameManagementComponent_div_28_div_12_div_3_option_4_Template, 2, 2, \"option\", 28);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const p_r28 = ctx.$implicit;\n    const ctx_r27 = i0.ɵɵnextContext(3);\n    let tmp_0_0;\n    let tmp_3_0;\n    let tmp_4_0;\n    i0.ɵɵclassProp(\"has-danger\", ((tmp_0_0 = ctx_r27.creationForm.get(p_r28)) == null ? null : tmp_0_0.invalid) && (((tmp_0_0 = ctx_r27.creationForm.get(p_r28)) == null ? null : tmp_0_0.dirty) || ((tmp_0_0 = ctx_r27.creationForm.get(p_r28)) == null ? null : tmp_0_0.touched)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"for\", p_r28);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(p_r28);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"is-invalid\", ((tmp_3_0 = ctx_r27.creationForm.get(p_r28)) == null ? null : tmp_3_0.invalid) && (((tmp_3_0 = ctx_r27.creationForm.get(p_r28)) == null ? null : tmp_3_0.dirty) || ((tmp_3_0 = ctx_r27.creationForm.get(p_r28)) == null ? null : tmp_3_0.touched)))(\"is-valid\", ((tmp_4_0 = ctx_r27.creationForm.get(p_r28)) == null ? null : tmp_4_0.valid) && (((tmp_4_0 = ctx_r27.creationForm.get(p_r28)) == null ? null : tmp_4_0.dirty) || ((tmp_4_0 = ctx_r27.creationForm.get(p_r28)) == null ? null : tmp_4_0.touched)));\n    i0.ɵɵpropertyInterpolate(\"id\", p_r28);\n    i0.ɵɵpropertyInterpolate(\"formControlName\", p_r28);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r27.roles);\n  }\n}\n\nfunction GameManagementComponent_div_28_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 34)(1, \"div\", 35);\n    i0.ɵɵtext(2, \"R\\u00F4les des joueurs particiants \\u00E0 la donne:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, GameManagementComponent_div_28_div_12_div_3_Template, 5, 11, \"div\", 36);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r24 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r24.playerRoleArray);\n  }\n}\n\nfunction GameManagementComponent_div_28_div_13_option_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 33);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const r_r32 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", r_r32.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(r_r32.name);\n  }\n}\n\nfunction GameManagementComponent_div_28_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25)(1, \"label\", 39);\n    i0.ɵɵtext(2, \"R\\u00E9sultat de la donne\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"select\", 40);\n    i0.ɵɵtemplate(4, GameManagementComponent_div_28_div_13_option_4_Template, 2, 2, \"option\", 28);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r25 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"has-danger\", (ctx_r25.result == null ? null : ctx_r25.result.invalid) && ((ctx_r25.result == null ? null : ctx_r25.result.dirty) || (ctx_r25.result == null ? null : ctx_r25.result.touched)));\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassProp(\"is-invalid\", (ctx_r25.result == null ? null : ctx_r25.result.invalid) && ((ctx_r25.result == null ? null : ctx_r25.result.dirty) || (ctx_r25.result == null ? null : ctx_r25.result.touched)))(\"is-valid\", (ctx_r25.result == null ? null : ctx_r25.result.valid) && ((ctx_r25.result == null ? null : ctx_r25.result.dirty) || (ctx_r25.result == null ? null : ctx_r25.result.touched)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r25.results);\n  }\n}\n\nfunction GameManagementComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r34 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 6)(2, \"div\", 7);\n    i0.ɵɵtext(3, \"Cr\\u00E9ation d'une donne\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 9)(5, \"div\", 10)(6, \"form\", 24);\n    i0.ɵɵlistener(\"ngSubmit\", function GameManagementComponent_div_28_Template_form_ngSubmit_6_listener() {\n      i0.ɵɵrestoreView(_r34);\n      const ctx_r33 = i0.ɵɵnextContext();\n      return ctx_r33.onSubmit();\n    });\n    i0.ɵɵelementStart(7, \"div\", 25)(8, \"label\", 26);\n    i0.ɵɵtext(9, \"Nom de l'annonce de la donne\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"select\", 27);\n    i0.ɵɵlistener(\"change\", function GameManagementComponent_div_28_Template_select_change_10_listener() {\n      i0.ɵɵrestoreView(_r34);\n      const ctx_r35 = i0.ɵɵnextContext();\n      return ctx_r35.onContractChange();\n    });\n    i0.ɵɵtemplate(11, GameManagementComponent_div_28_option_11_Template, 2, 2, \"option\", 28);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(12, GameManagementComponent_div_28_div_12_Template, 4, 1, \"div\", 29);\n    i0.ɵɵtemplate(13, GameManagementComponent_div_28_div_13_Template, 5, 7, \"div\", 30);\n    i0.ɵɵelementStart(14, \"div\", 31)(15, \"fieldset\")(16, \"button\", 32);\n    i0.ɵɵtext(17, \"Enregistrer\");\n    i0.ɵɵelementEnd()()()()()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"formGroup\", ctx_r7.creationForm);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"has-danger\", (ctx_r7.contract == null ? null : ctx_r7.contract.invalid) && ((ctx_r7.contract == null ? null : ctx_r7.contract.dirty) || (ctx_r7.contract == null ? null : ctx_r7.contract.touched)));\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassProp(\"is-invalid\", (ctx_r7.contract == null ? null : ctx_r7.contract.invalid) && ((ctx_r7.contract == null ? null : ctx_r7.contract.dirty) || (ctx_r7.contract == null ? null : ctx_r7.contract.touched)))(\"is-valid\", (ctx_r7.contract == null ? null : ctx_r7.contract.valid) && ((ctx_r7.contract == null ? null : ctx_r7.contract.dirty) || (ctx_r7.contract == null ? null : ctx_r7.contract.touched)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r7.contracts);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.oldContractValue != -1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.oldContractValue != -1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", !(ctx_r7.creationForm == null ? null : ctx_r7.creationForm.valid));\n  }\n}\n\nexport let GameManagementComponent = /*#__PURE__*/(() => {\n  class GameManagementComponent {\n    constructor(route, _dataService, _fb) {\n      this.route = route;\n      this._dataService = _dataService;\n      this._fb = _fb;\n      this.oldContractValue = -1;\n      this.playerRoleArray = [];\n      this.results = [];\n      this.roles = [];\n      this.event = {};\n      this.creationForm = this._fb.group({\n        contract: ['', [Validators.required], [], {\n          updateOn: \"blur\"\n        }],\n        result: ['', [Validators.required], [], {\n          updateOn: \"blur\"\n        }] //players: this._fb.array([], [ Validators.required ])\n\n      });\n    }\n\n    ngOnInit() {\n      this.sub = this.route.params.subscribe(params => {\n        this.id = +params['id']; // (+) converts string 'id' to a number\n        // In a real app: dispatch action to load the details here.\n\n        this._dataService.findEventById(this.id).subscribe(data => {\n          var _a;\n\n          this.event = data;\n          this.id = data.id;\n          this.draws$ = this._dataService.retrieveEventDetails(this.id);\n\n          this._dataService.findContractsByNumberOfPlayers((_a = data.players) === null || _a === void 0 ? void 0 : _a.length).subscribe(ctrs => {\n            this.contracts = ctrs;\n          });\n        });\n      });\n    }\n\n    get contract() {\n      return this.creationForm.get('contract');\n    }\n\n    get result() {\n      return this.creationForm.get('result');\n    }\n\n    ngOnDestroy() {\n      this.sub.unsubscribe();\n    }\n\n    computeColspan(inLength) {\n      if (inLength !== undefined) {\n        return 2 + inLength;\n      } else {\n        return 2;\n      }\n    }\n\n    onSubmit() {\n      var _a, _b, _c, _d, _e, _f;\n\n      if ((_a = this.creationForm) === null || _a === void 0 ? void 0 : _a.valid) {\n        let d = {};\n        (_b = this.contracts) === null || _b === void 0 ? void 0 : _b.forEach(ctr => {\n          if (this.oldContractValue == ctr.id) {\n            d.contract = ctr;\n          }\n        });\n        let resultId = (_c = this.result) === null || _c === void 0 ? void 0 : _c.value;\n        (_d = this.results) === null || _d === void 0 ? void 0 : _d.forEach(res => {\n          if (resultId == res.id) {\n            d.result = res;\n          }\n        });\n        d.players = [];\n        (_f = (_e = this.event) === null || _e === void 0 ? void 0 : _e.players) === null || _f === void 0 ? void 0 : _f.forEach(p => {\n          var _a, _b;\n\n          const pdVO = {\n            playerName: p.name,\n            roleName: (_a = this.creationForm.get(p.name)) === null || _a === void 0 ? void 0 : _a.value,\n            eventScore: 0,\n            drawScore: 0\n          };\n          (_b = d.players) === null || _b === void 0 ? void 0 : _b.push(pdVO);\n        });\n\n        this._dataService.createDraw(this.event.id, d).subscribe(data => {\n          this.creationForm.reset();\n          this.oldContractValue = -1;\n          this.playerRoleArray = [];\n          this.results = [];\n          this.roles = [];\n          this.draws$ = of(data);\n          this.event.status = \"IN_PROGRESS\";\n        });\n      }\n    }\n\n    onContractChange() {\n      var _a, _b, _c; // first remove old controls (if needed)\n\n\n      if (this.oldContractValue != -1) {\n        (_b = (_a = this.event) === null || _a === void 0 ? void 0 : _a.players) === null || _b === void 0 ? void 0 : _b.forEach(p => {\n          this.creationForm.removeControl(p.name);\n        });\n      }\n\n      this.playerRoleArray = [];\n      this.results = [];\n      this.roles = []; // Second add new controls\n\n      let contractId = (_c = this.contract) === null || _c === void 0 ? void 0 : _c.value;\n\n      this._dataService.findResultsByContractId(contractId).subscribe(data => {\n        var _a;\n\n        this.results = data;\n        (_a = this.contracts) === null || _a === void 0 ? void 0 : _a.forEach(ctr => {\n          var _a, _b;\n\n          if (contractId == ctr.id) {\n            this.roles = ctr.roles;\n            (_b = (_a = this.event) === null || _a === void 0 ? void 0 : _a.players) === null || _b === void 0 ? void 0 : _b.forEach(p => {\n              this.creationForm.addControl(p.name, new FormControl(this.roles[0].id));\n              this.playerRoleArray.push(p.name);\n            });\n          }\n        });\n      });\n\n      this.oldContractValue = contractId;\n    }\n\n    closeEvent(inId) {\n      this._dataService.closeEvent(inId).subscribe(() => {\n        this.event.status = 'FINISHED';\n      });\n    }\n\n  }\n\n  GameManagementComponent.ɵfac = function GameManagementComponent_Factory(t) {\n    return new (t || GameManagementComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.DataService), i0.ɵɵdirectiveInject(i3.FormBuilder));\n  };\n\n  GameManagementComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: GameManagementComponent,\n    selectors: [[\"wsw-game-management\"]],\n    decls: 29,\n    vars: 17,\n    consts: [[1, \"container\"], [1, \"row\"], [1, \"col\"], [\"class\", \"badge rounded-pill bg-danger\", 4, \"ngIf\"], [\"class\", \"badge rounded-pill bg-warning\", 4, \"ngIf\"], [\"class\", \"badge rounded-pill bg-success\", 4, \"ngIf\"], [1, \"card\", \"border-primary\"], [1, \"card-header\", \"bg-primary\", \"text-white\"], [\"class\", \"btn btn-danger\", \"title\", \"Cl\\u00F4turer la partie\", 3, \"click\", 4, \"ngIf\"], [1, \"card-body\"], [1, \"card-text\"], [1, \"table\", \"table-bordered\", \"border-primary\"], [1, \"bg-primary\", \"text-white\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [\"class\", \"col\", 4, \"ngIf\"], [1, \"badge\", \"rounded-pill\", \"bg-danger\"], [1, \"badge\", \"rounded-pill\", \"bg-warning\"], [1, \"badge\", \"rounded-pill\", \"bg-success\"], [\"title\", \"Cl\\u00F4turer la partie\", 1, \"btn\", \"btn-danger\", 3, \"click\"], [1, \"bi-trash\"], [\"nowrap\", \"\", 4, \"ngFor\", \"ngForOf\"], [\"nowrap\", \"\"], [3, \"role-annonceur\", 4, \"ngIf\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\", \"required\"], [\"for\", \"contract\", 1, \"control-label\"], [\"id\", \"contract\", \"formControlName\", \"contract\", 1, \"form-select\", 3, \"change\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"bordered-fields\", 4, \"ngIf\"], [\"class\", \"form-group required\", 3, \"has-danger\", 4, \"ngIf\"], [1, \"form-group\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [3, \"value\"], [1, \"bordered-fields\"], [1, \"title-fields\"], [\"class\", \"form-group required\", 3, \"has-danger\", 4, \"ngFor\", \"ngForOf\"], [1, \"control-label\", 3, \"for\"], [1, \"form-select\", 3, \"id\", \"formControlName\"], [\"for\", \"result\", 1, \"control-label\"], [\"id\", \"result\", \"formControlName\", \"result\", 1, \"form-select\"]],\n    template: function GameManagementComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h1\");\n        i0.ɵɵtext(4);\n        i0.ɵɵpipe(5, \"date\");\n        i0.ɵɵtemplate(6, GameManagementComponent_span_6_Template, 2, 0, \"span\", 3);\n        i0.ɵɵtemplate(7, GameManagementComponent_span_7_Template, 2, 0, \"span\", 4);\n        i0.ɵɵtemplate(8, GameManagementComponent_span_8_Template, 2, 0, \"span\", 5);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(9, \"div\", 1)(10, \"div\", 2)(11, \"div\", 6)(12, \"div\", 7);\n        i0.ɵɵtext(13, \" Scores de la partie \");\n        i0.ɵɵtemplate(14, GameManagementComponent_button_14_Template, 2, 0, \"button\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"div\", 9)(16, \"div\", 10)(17, \"table\", 11)(18, \"tr\", 12)(19, \"th\");\n        i0.ɵɵtext(20, \"Annonce\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"th\");\n        i0.ɵɵtext(22, \"R\\u00E9sultat\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(23, GameManagementComponent_th_23_Template, 2, 1, \"th\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(24, GameManagementComponent_tr_24_Template, 3, 1, \"tr\", 14);\n        i0.ɵɵpipe(25, \"async\");\n        i0.ɵɵtemplate(26, GameManagementComponent_tr_26_Template, 6, 3, \"tr\", 13);\n        i0.ɵɵpipe(27, \"async\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵtemplate(28, GameManagementComponent_div_28_Template, 18, 11, \"div\", 15);\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        let tmp_6_0;\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate2(\" Partie n\\u00B0\", ctx.id, \" du \", i0.ɵɵpipeBind2(5, 10, ctx.event == null ? null : ctx.event.eventDate, \"dd MMMM YYYY\"), \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", (ctx.event == null ? null : ctx.event.status) == \"NEW\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", (ctx.event == null ? null : ctx.event.status) == \"IN_PROGRESS\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", (ctx.event == null ? null : ctx.event.status) == \"FINISHED\");\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", (ctx.event == null ? null : ctx.event.status) == \"IN_PROGRESS\");\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngForOf\", ctx.event == null ? null : ctx.event.players);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ((tmp_6_0 = i0.ɵɵpipeBind1(25, 13, ctx.draws$)) == null ? null : tmp_6_0.length) == 0);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(27, 15, ctx.draws$));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", (ctx.event == null ? null : ctx.event.status) != \"FINISHED\");\n      }\n    },\n    directives: [i4.NgIf, i4.NgForOf, i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.FormControlName, i3.NgSelectOption, i3.ɵNgSelectMultipleOption],\n    pipes: [i4.DatePipe, i4.AsyncPipe],\n    styles: [\"\"]\n  });\n  return GameManagementComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}